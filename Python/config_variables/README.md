# 说明 
* 这个脚本就是用来配置klustron的计算节点及存储节点的变量
## 运行
`python3 config_variables.py`
## 配置文件
* `[kunlun]`
  * 这步部分就是我们集群的信息，及一些操作
  * 前四个就是任意计算节点的信息，只要一个就够了
  * `sys_user` 可以同步操作所有服务器且有ssh互信免密的账户
  * `db_write_file` [on]|[off] 是否更新存储节点的配置文件
    * on时会更新所有存储节点的配置文件，off则只会连接存储节点并修改变量
  * `db_restart` [on]|[off] 是否要重启存储节点，有的变量要重启才生效
  * `component` [all]|[server]|[storage] 要操作什么组件
    * all：所有存储节点和计算节点都会修改其变量
    * server: 仅修改所有计算节点的变量，不操作存储节点
    * storage：仅修改所有存储节点的变量，不操作计算节点
  * `only_show_variables` [on]|[off] 是否仅展示变量，不修改变量

* `[server_settings]`
  * 这个是放计算节点的变量及其值的地方
  * 计算节点一定是会修改本地的配置文件且重启计算节点
  * 变量及其值可以随意修改，只要确保有这个变量且值的范围是正确的就行 

* `[storage_settings]`
  * 这个是放存储节点的变量及其值的地方
  * 变量及其值可以随意修改，只要确保有这个变量且值的范围是正确的
    * 有的变量不能放到本地配置文件里面，不然会重启失败的
    * 有的变量只能放到本地配置文件里面重启节点后生效
    * 所以存储节点的变量要确认清楚是否要放到本地配置文件里面，是否一定要重启生效
